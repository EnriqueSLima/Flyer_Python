#:kivy 1.0.9
#:import MapView kivy.garden.mapview.MapView

#   Main Screen Manager
<FlyerManager>:
    SignIn:
        name: 'sign_in_screen'
    SignUp:
        name: 'sign_up_screen'
    Validation:
        name: 'validation_screen'
    FlyerIndex:
        name: 'index_screen'

#  SCREENS FOR LOG_IN

<SignIn>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 70
        padding: 50
        canvas: 
            Color:
                rgba: .1,.1,.1,1
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            orientation: 'vertical'
            Image:
                source: 'images/logo/flyer_logo.png'
                size_hint_y: None
                height: 200
            Label:
                text: 'E-MAIL'
                font_size: 12
                bold: True
            TextInput:
                multiline: False
                size_hint_y: None
                height: 30
            Label:
                text: 'PASSWORD'
                font_size: 12
                bold: True
            TextInput:
                multiline: False
                password: True
                size_hint_y: None
                height: 30
        BeforeButton:
            text: 'SIGN IN'
            on_release: app.root.current = 'index_screen'
        BeforeButton:
            text: 'SIGN UP'
            on_release: app.root.current = 'sign_up_screen'


<SignUp>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 100
        padding: 50
        canvas: 
            Color:
                rgba: .1,.1,.1,1
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            orientation: 'vertical'
            spacing: 5
            Image:
                source: 'images/logo/flyer_logo.png'
                size_hint_y: None
                height: 200
            Label:
                text: 'E-MAIL'
                font_size: 12
                bold: True
            TextInput:
                multiline: False
                size_hint_y: None
                height: 30
            Label:
                text: 'PASSWORD'
                font_size: 12
                bold: True
            TextInput:
                multiline: False
                password: True
                size_hint_y: None
                height: 30
            Label:
                text: 'CONFIRM PASSWORD'
                font_size: 12
                bold: True
            TextInput:
                multiline: False
                password: True
                size_hint_y: None
                height: 30
        BeforeButton:
            text: 'REGISTER'
            on_release: app.root.current = 'validation_screen'


<Validation>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 150
        padding: 50
        canvas: 
            Color:
                rgba: .1,.1,.1,1
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            orientation: 'vertical'
            Image:
                source: 'images/logo/flyer_logo.png'
                size_hint_y: None
                height: 200
            Label:
                text: 'INSERT CODE'
                font_size: 12
                bold: True
            TextInput:
                multiline: False
                size_hint_y: None
                height: 30
        BeforeButton:
            text: 'VALIDATE'
            on_release: app.root.current = 'sign_in_screen'


#   BUTTON FOR LOG_IN SCREENS

<BeforeButton@Button>:
    bold: True
    size_hint_y: None
    height: 50
    background_color: [0, 0, 10, 1]

#   INDEX SCREEN - MAIN USE

<FlyerIndex>:
    BoxLayout:
        orientation: 'vertical'
        ActionBar:
            index: 0
            ActionView:
                ActionPrevious:
                    spacing: 30
                    padding: 5
                    title: 'Flyer'
                    with_previous: False
                    app_icon: 'images/logo/flyer_logo.png'
                    on_release: app.root.current = 'index_screen'
                    app_icon_width: 40
                    app_icon_height: 40
                    background_color: [.1,.1,.1,1]
                    ActionButton:
                        icon: 'images/icons/round_map_white_36.png'
                        on_release: root.changeLayout()
                    ActionButton:
                        icon: 'images/icons/round_list_white_36.png'
                    ActionButton:
                        icon: 'images/icons/round_search_white_36.png'
        Widget:
            id: 'main'

        BoxLayout:
            canvas:
                Color:
                    rgba: (.15,.15,.15,1)
                Rectangle:
                    size: self.size
                    pos:self.pos
            spacing: 85
            padding: 10
            size_hint_y: None
            height: 45
            FooterButton:
                background_normal:'images/icons/round_home_white_36.png'
            FooterButton:
                background_normal: 'images/icons/round_sell_white_36.png'
            FooterButton:
                background_normal: 'images/icons/round_favorite_white_36.png'
            FooterButton:
                background_normal: 'images/icons/round_settings_white_36.png'

<FooterButton@Button>:
    size_hint_x: None
    width: self.height
    border: (0,0,0,0)

###     LAYOUTS 

<FlyerMap>:
    id: 'mapflyer'
    BoxLayout:
        orientation: 'vertical'
        MapView:
            id: 'mapflyer'
            lat:  -23.550277777778 
            lon:  -46.633888888889 
            zoom: 16
            MapMarkerPopup:
                source: 'images/icons/marker_icon.png'
                lat:  -23.550277777778
                lon:  -46.633888888889

<FlyerList>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'List Page'
        ActionBar:

<FlyerSearch>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Search Page'

<FlyerHome>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Home Page'

<FlyerPromo>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Promo Page'
        ActionBar:

<FlyerFav>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Favorite Page'
        ActionBar:

<FlyerSettings>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Settings Page'




