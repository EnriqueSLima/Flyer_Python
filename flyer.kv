#:kivy 1.0.9
#:import MapView kivy.garden.mapview.MapView

#   Main Screen Manager
<FlyerIndex>:
    id: main_index
    orientation: 'vertical'
    BoxLayout:
        orientation: 'vertical'
        MainHeader:
            id: header
        FlyerManager:
            id: main_container
            size: self.width, self.height
            FlyerMap:
                name: 'map_flyer'
            FlyerList:
                name: 'list_flyer'
            FlyerSearch:
                name: 'search_flyer'
            FlyerHome:
                name: 'home_flyer'
            FlyerPromo:
                name: 'promo_flyer'
            FlyerFav:
                name: 'fav_flyer'
            FlyerSettings:
                name: 'settings_flyer'
        MainFooter:
            id: footer

#   HEADER ACTION BAR
<MainHeader@ActionBar>:
    ActionView:
        ActionPrevious:
            spacing: 30
            padding: 5
            title: 'Flyer'
            with_previous: False
            app_icon: 'images/logo/flyer_logo.png'
            on_release: app.root.current = 'index_screen'
            app_icon_width: 40
            app_icon_height: 40
            background_color: [.1,.1,.1,1]
            ActionButton:
                icon: 'images/icons/round_map_white_36.png'
                on_release:
                    app.root.ids.main_container.current = 'map_flyer'
            ActionButton:
                icon: 'images/icons/round_list_white_36.png'
                on_release:
                    app.root.ids.main_container.current = 'list_flyer'
            ActionButton:
                icon: 'images/icons/round_search_white_36.png'
                on_release:
                    app.root.ids.main_container.current = 'search_flyer'

#   FOOTER BAR
<MainFooter@BoxLayout>:
    canvas:
        Color:
            rgba: (.12,.12,.12,1)
        Rectangle:
            size: self.size
            pos:self.pos
    spacing: 85
    padding: 10
    size_hint_y: None
    height: 45
    FooterButton:
        background_normal:'images/icons/round_home_white_36.png'
        on_release:
            app.root.ids.main_container.current = 'home_flyer'
    FooterButton:
        background_normal: 'images/icons/round_sell_white_36.png'
        on_release:
            app.root.ids.main_container.current = 'promo_flyer'        
    FooterButton:
        background_normal: 'images/icons/round_favorite_white_36.png'
        on_release:
            app.root.ids.main_container.current = 'fav_flyer'
    FooterButton:
        background_normal: 'images/icons/round_settings_white_36.png'
        on_release:
            app.root.ids.main_container.current = 'settings_flyer'

#   BUTTONS FOR FOOTER BAR
<FooterButton@Button>:
    size_hint_x: None
    width: self.height
    border: (0,0,0,0)

#   CONTAINERS
<FlyerMap>:
    BoxLayout:
        orientation: 'vertical'
        MapView:
            id: mapflyers
            lat:  -23.550277777778 
            lon:  -46.633888888889 
            zoom: 16
            MapMarkerPopup:
                source: 'images/icons/marker_icon.png'
                lat:  -23.550277777778
                lon:  -46.633888888889
                size_hint_y: None
                height: self.width * 0.7

<FlyerList>:
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        size_hint_y: None
        height: 200
        Image:
            size_hint_y: None
            height: 150
        BoxLayout:
            Label:
                text: 'NOME CADASTRADO'
                font_size: 10
            Label:
                text: '10km'
                font_size: 10
        Label:
            text: 'ENDEREÃ‡O CADASTRADO'
            font_size: 10

<FlyerSearch>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Search Page'

<FlyerHome>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Home Page'

<FlyerPromo>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Promo Page'
        ActionBar:

<FlyerFav>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Favorite Page'
        ActionBar:

<FlyerSettings>:
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: 'Settings Page'